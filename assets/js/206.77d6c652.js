(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{533:function(s,n,t){"use strict";t.r(n);var a=t(7),e=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"mysql数据库恢复-load-data"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql数据库恢复-load-data"}},[s._v("#")]),s._v(" MySQL数据库恢复（LOAD DATA）")]),s._v(" "),n("p",[s._v("数据库恢复是指以备份为基础，与备份相对应的系统维护和管理操作。")]),s._v(" "),n("p",[s._v("系统进行恢复操作时，先执行一些系统安全性的检查，包括检查所要恢复的数据库是否存在、数据库是否变化及数据库文件是否兼容等，然后根据所采用的数据库备份类型采取相应的恢复措施。")]),s._v(" "),n("p",[s._v("数据库恢复机制设计的两个关键问题是：第一，如何建立冗余数据；第二，如何利用这些冗余数据实施数据库恢复。")]),s._v(" "),n("p",[s._v("建立冗余数据最常用的技术是数据转储和登录日志文件。通常在一个数据库系统中，这两种方法是一起使用的。")]),s._v(" "),n("p",[s._v("数据转储是 DBA 定期地将整个数据库复制到磁带或另一个磁盘上保存起来的过程。这些备用的版本成为后备副本或后援副本。")]),s._v(" "),n("p",[s._v("可使用 LOAD DATA…INFILE 语句来恢复先前备份的数据。")]),s._v(" "),n("p",[s._v("【实例】将之前导出的数据备份文件 file.txt 导入数据库 test_db 的表 tb_students_copy 中，其中 tb_students_copy 的表结构和 tb_students_info 相同。")]),s._v(" "),n("p",[s._v("首先创建表 tb_students_copy，输入的 SQL 语句和执行结果如下所示。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> CREATE TABLE tb_students_copy\n    -> LIKE tb_students_info;\nQuery OK, 0 rows affected (0.52 sec)\nmysql> SELECT * FROM tb_students_copy;\nEmpty set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("导入数据与查询表 tb_students_copy 的过程如下所示。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> LOAD DATA INFILE 'C:/ProgramData/MySQL/MySQL Server 5.7/\nUploads/file.txt'\n    -> INTO TABLE test_db.tb_students_copy\n    -> FIELDS TERMINATED BY ','\n    -> OPTIONALLY ENCLOSED BY '\"'\n    -> LINES TERMINATED BY '?';\nQuery OK, 10 rows affected (0.14 sec)\nRecords: 10  Deleted: 0  Skipped: 0  Warnings: 0\nmysql> SELECT * FROM test_db.tb_students_copy;\n+----+--------+---------+------+------+--------+------------+\n| id | name   | dept_id | age  | sex  | height | login_date |\n+----+--------+---------+------+------+--------+------------+\n|  1 | Dany   |       1 |   25 | F    |    160 | 2015-09-10 |\n|  2 | Green  |       3 |   23 | F    |    158 | 2016-10-22 |\n|  3 | Henry  |       2 |   23 | M    |    185 | 2015-05-31 |\n|  4 | Jane   |       1 |   22 | F    |    162 | 2016-12-20 |\n|  5 | Jim    |       1 |   24 | M    |    175 | 2016-01-15 |\n|  6 | John   |       2 |   21 | M    |    172 | 2015-11-11 |\n|  7 | Lily   |       6 |   22 | F    |    165 | 2016-02-26 |\n|  8 | Susan  |       4 |   23 | F    |    170 | 2015-10-01 |\n|  9 | Thomas |       3 |   22 | M    |    178 | 2016-06-07 |\n| 10 | Tom    |       4 |   23 | M    |    165 | 2016-08-05 |\n+----+--------+---------+------+------+--------+------------+\n10 rows in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);